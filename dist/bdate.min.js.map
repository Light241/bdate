{"version":3,"sources":["bdate.js"],"names":["angular","module","directive","$filter","bDataFactory","restrict","replace","templateUrl","scope","source","bRootId","bInputId","bPopupId","controller","makeDataQuery","link","date","viewed","model","$watch","dateTime","formattedDate","equals","Date","year","month","day","getTime","data","format","popup","state","isOpen","togglePopup","factory","exports","sourceData","today","day_of_week","years",2013,1,"days_total","start_day",2014,5,6,7,8,9,10,2015,2,3,4,2016,2017,"setData","constant","invalidParams","errorOnChangeMonthOrYear","bDateUtils","MESSAGES","popupState","dateModel","hidePopup","selectDate","setDateModel","console","error","setFormat","viewedDate","setViewedDate","yearNum","monthNum","first","Object","keys","last","length","number","count","daysTotal","startDay","name","getMonthName","days","getDaysArr","daysOfWeek","get","getShorts","getDaysOfWeekShorts","setToday","_getPrevMonthTailDaysArr","i","isPrevMonthExist","prevMonthDate","prevMonthDaysCount","result","sourceCheckers","getPrevMonthObj","getDate","unshift","isOtherMonth","_getNextMonthTailDaysArr","daysCount","daysArr","daysInWeek","expectedWeeksCount","isNextMonthExist","nextMonthDate","Math","ceil","floor","getNextMonthObj","push","_getMonthDaysArr","currentMonthDaysArr","nextMonthTailDaysArr","prevMonthTailDaysArr","concat","goNextMonth","isForward","nextObj","getNextAvailableMonth","goNextYear","getNextAvailableYear","init","dateSource","firstYear","isMonthExist","getFirstYear","getFirstMonth","daysOfWeekList","monthObj","short",11,12,"makeDateModel","datetime","getUTCDate","getMonth","getFullYear","curMonthNum","isFirstMonth","isFirstYear","lastMonthOfPrevYearNum","prevMonthNum","prevYearNum","getLastMonth","firstMonthOfNextYearNum","isLastMonth","isLastYear","nextMonthNum","nextYearNum","isYearExist","getYear","getLastYear","run","$templateCache","put"],"mappings":"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","file":"bdate.min.js","sourcesContent":["angular.module('bdate.datepicker', ['bdate.popup', 'bdate.data', 'bdate.templates']).directive('bdatepicker', ['$filter', 'bDataFactory', function($filter, bDataFactory) {\n  return {\n    restrict: 'E',\n    replace: true,\n    templateUrl: 'default.html',\n    scope: {\n      source: '=',\n      bRootId: '@?',\n      bInputId: '@?',\n      bPopupId: '@?'\n    },\n    controller: function() {\n      return bDataFactory.makeDataQuery();\n    },\n    link: function(scope) {\n      scope.date = {\n        viewed: '',\n        model: {}\n      };\n      scope.$watch('date.model', function() {\n        var dateTime, formattedDate;\n        if (angular.equals({}, scope.date.model)) {\n          return;\n        }\n        dateTime = new Date(scope.date.model.year, scope.date.model.month - 1, scope.date.model.day).getTime();\n        formattedDate = $filter('date')(dateTime, bDataFactory.data.format);\n        return scope.date.viewed = formattedDate;\n      });\n      scope.popup = {\n        state: {\n          isOpen: false\n        }\n      };\n      return scope.togglePopup = function() {\n        return scope.popup.state.isOpen = !scope.popup.state.isOpen;\n      };\n    }\n  };\n}]);\n\nangular.module('bdate.data', []).factory('bDataFactory', function() {\n  var exports, sourceData;\n  sourceData = {\n    format: 'dd-MM-yyyy',\n    today: {\n      date: 1432537266825,\n      year: 2015,\n      month: 5,\n      day: 25,\n      day_of_week: 1\n    },\n    years: {\n      2013: {\n        1: {\n          days_total: 31,\n          start_day: 2\n        }\n      },\n      2014: {\n        5: {\n          days_total: 31,\n          start_day: 4\n        },\n        6: {\n          days_total: 30,\n          start_day: 7\n        },\n        7: {\n          days_total: 31,\n          start_day: 2\n        },\n        8: {\n          days_total: 31,\n          start_day: 5\n        },\n        9: {\n          days_total: 30,\n          start_day: 1\n        },\n        10: {\n          days_total: 31,\n          start_day: 3\n        }\n      },\n      2015: {\n        2: {\n          days_total: 28,\n          start_day: 7\n        },\n        3: {\n          days_total: 31,\n          start_day: 5\n        },\n        4: {\n          days_total: 30,\n          start_day: 3\n        },\n        5: {\n          days_total: 31,\n          start_day: 5\n        }\n      },\n      2016: {\n        1: {\n          days_total: 31,\n          start_day: 5\n        }\n      },\n      2017: {\n        1: {\n          days_total: 31,\n          start_day: 7\n        },\n        2: {\n          days_total: 28,\n          start_day: 3\n        }\n      }\n    }\n  };\n  return exports = {\n    data: null,\n    setData: function(source) {\n      return exports.data = source;\n    },\n    makeDataQuery: function() {\n      return exports.setData(sourceData);\n    }\n  };\n});\n\nangular.module('bdate', ['bdate.datepicker']).constant('MESSAGES', {\n  invalidParams: 'Invalid params',\n  errorOnChangeMonthOrYear: 'cannot change month or year'\n});\n\nangular.module('bdate.popup', ['bdate.utils', 'bdate.data', 'bdate.templates']).directive('bdatePopup', ['bDateUtils', 'bDataFactory', 'MESSAGES', function(bDateUtils, bDataFactory, MESSAGES) {\n  return {\n    restrict: 'E',\n    replace: true,\n    templateUrl: 'popup.html',\n    scope: {\n      popupState: '=',\n      dateModel: '='\n    },\n    link: function(scope) {\n      scope.popup = {\n        hidePopup: function() {\n          return scope.popupState.isOpen = false;\n        },\n        selectDate: function(date) {\n          scope.data.setDateModel(date);\n          return scope.popup.hidePopup();\n        }\n      };\n      scope.data = {\n        setDateModel: function(dateModel) {\n          if (!dateModel) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          return scope.dateModel = dateModel;\n        },\n        format: null,\n        setFormat: function(format) {\n          if (!format) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          return scope.data.format = format;\n        },\n        viewedDate: null,\n        setViewedDate: function(yearNum, monthNum) {\n          if (!yearNum || !monthNum) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          yearNum = +yearNum;\n          monthNum = +monthNum;\n          scope.data.viewedDate = {\n            year: {\n              first: Object.keys(bDataFactory.data.years)[0],\n              last: Object.keys(bDataFactory.data.years)[Object.keys(bDataFactory.data.years).length - 1],\n              number: yearNum,\n              count: Object.keys(bDataFactory.data.years).length\n            },\n            month: {\n              first: Object.keys(bDataFactory.data.years[yearNum])[0],\n              last: Object.keys(bDataFactory.data.years[yearNum])[Object.keys(bDataFactory.data.years[yearNum]).length - 1],\n              daysTotal: bDataFactory.data.years[yearNum][monthNum].days_total,\n              startDay: bDataFactory.data.years[yearNum][monthNum].start_day,\n              number: monthNum,\n              name: bDateUtils.getMonthName(monthNum),\n              count: Object.keys(bDataFactory.data.years[yearNum]).length\n            }\n          };\n          return scope.data.viewedDate.days = scope.data.getDaysArr(scope.data.viewedDate.year, scope.data.viewedDate.month);\n        },\n        daysOfWeek: {\n          get: function() {\n            return bDateUtils.daysOfWeek;\n          },\n          getShorts: function() {\n            return bDateUtils.getDaysOfWeekShorts();\n          }\n        },\n        today: null,\n        setToday: function(today) {\n          if (!today) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          return scope.data.today = today;\n        },\n        _getPrevMonthTailDaysArr: function(yearNum, monthNum, startDay) {\n          var i, isPrevMonthExist, prevMonthDate, prevMonthDaysCount, result;\n          result = [];\n          prevMonthDate = {\n            day: null,\n            month: null,\n            year: null\n          };\n          isPrevMonthExist = bDateUtils.sourceCheckers.month.isPrevMonthExist(yearNum, monthNum);\n          prevMonthDaysCount = 0;\n          if (isPrevMonthExist) {\n            prevMonthDate = bDateUtils.sourceCheckers.month.getPrevMonthObj(yearNum, monthNum);\n            prevMonthDaysCount = new Date(prevMonthDate.year, prevMonthDate.month, 0).getDate();\n          }\n          i = 0;\n          while (i < startDay - 1) {\n            result.unshift({\n              day: prevMonthDaysCount - i,\n              month: prevMonthDate.month,\n              year: prevMonthDate.year,\n              isOtherMonth: true\n            });\n            i++;\n          }\n          return result;\n        },\n        _getNextMonthTailDaysArr: function(yearNum, monthNum, startDay, daysCount, daysArr) {\n          var daysInWeek, expectedWeeksCount, i, isNextMonthExist, nextMonthDate, result;\n          result = [];\n          daysInWeek = 7;\n          expectedWeeksCount = Math.ceil(daysArr.length / daysInWeek);\n          if ((daysArr.length / daysInWeek) === Math.floor(daysArr.length / daysInWeek)) {\n            return result;\n          }\n          nextMonthDate = {\n            day: null,\n            month: null,\n            year: null\n          };\n          isNextMonthExist = bDateUtils.sourceCheckers.month.isNextMonthExist(yearNum, monthNum);\n          if (isNextMonthExist) {\n            nextMonthDate = bDateUtils.sourceCheckers.month.getNextMonthObj(yearNum, monthNum);\n          }\n          i = daysArr.length;\n          while (i < (expectedWeeksCount * daysInWeek)) {\n            daysArr.push({\n              day: i - (daysCount + startDay - 2),\n              month: nextMonthDate.month,\n              year: nextMonthDate.year,\n              isOtherMonth: true\n            });\n            i++;\n          }\n          return result;\n        },\n        _getMonthDaysArr: function(yearNum, monthNum, daysCount) {\n          var i, result;\n          result = [];\n          i = 1;\n          while (i <= daysCount) {\n            result.push({\n              day: i,\n              month: monthNum,\n              year: yearNum\n            });\n            i++;\n          }\n          return result;\n        },\n        getDaysArr: function(year, month) {\n          var currentMonthDaysArr, daysCount, nextMonthTailDaysArr, prevMonthTailDaysArr, result, startDay;\n          daysCount = +month.daysTotal;\n          startDay = +month.startDay;\n          prevMonthTailDaysArr = scope.data._getPrevMonthTailDaysArr(year.number, month.number, startDay);\n          currentMonthDaysArr = scope.data._getMonthDaysArr(year.number, month.number, daysCount);\n          result = prevMonthTailDaysArr.concat(currentMonthDaysArr);\n          nextMonthTailDaysArr = scope.data._getNextMonthTailDaysArr(year.number, month.number, startDay, daysCount, result);\n          result = result.concat(nextMonthTailDaysArr);\n          return result;\n        },\n        goNextMonth: function(isForward) {\n          var nextObj;\n          nextObj = bDateUtils.sourceCheckers.month.getNextAvailableMonth(isForward, scope.data.viewedDate.year.number, scope.data.viewedDate.month.number);\n          if (nextObj) {\n            return scope.data.setViewedDate(nextObj.year, nextObj.month);\n          }\n        },\n        goNextYear: function(isForward) {\n          var nextObj;\n          nextObj = bDateUtils.sourceCheckers.year.getNextAvailableYear(isForward, scope.data.viewedDate.year.number, scope.data.viewedDate.month.number);\n          if (nextObj) {\n            return scope.data.setViewedDate(nextObj.year, nextObj.month);\n          }\n        },\n        init: function(dateSource) {\n          var firstYear;\n          scope.data.setFormat(dateSource.format);\n          scope.data.setToday(dateSource.today);\n          if (bDateUtils.sourceCheckers.month.isMonthExist(dateSource.today.year, dateSource.today.month)) {\n            return scope.data.setViewedDate(dateSource.today.year, dateSource.today.month);\n          } else {\n            firstYear = bDateUtils.sourceCheckers.year.getFirstYear();\n            return scope.data.setViewedDate(firstYear, bDateUtils.sourceCheckers.month.getFirstMonth(firstYear));\n          }\n        }\n      };\n      return (function() {\n        scope.data.init(bDataFactory.data);\n        return scope.bDateUtils = bDateUtils;\n      })();\n    }\n  };\n}]);\n\nangular.module('bdate.utils', ['bdate.data']).factory('bDateUtils', ['MESSAGES', 'bDataFactory', function(MESSAGES, bDataFactory) {\n  var daysOfWeekList, exports, monthObj;\n  daysOfWeekList = [\n    {\n      name: 'Понедельник',\n      short: 'Пн'\n    }, {\n      name: 'Вторник',\n      short: 'Вт'\n    }, {\n      name: 'Среда',\n      short: 'Ср'\n    }, {\n      name: 'Четверг',\n      short: 'Чт'\n    }, {\n      name: 'Пятница',\n      short: 'Пт'\n    }, {\n      name: 'Суббота',\n      short: 'Сб'\n    }, {\n      name: 'Воскресенье',\n      short: 'Вс'\n    }\n  ];\n  monthObj = {\n    1: {\n      name: 'Январь',\n      short: 'Янв'\n    },\n    2: {\n      name: 'Февраль',\n      short: 'Фев'\n    },\n    3: {\n      name: 'Март',\n      short: 'Март'\n    },\n    4: {\n      name: 'Апрель',\n      short: 'Май'\n    },\n    5: {\n      name: 'Май',\n      short: 'Май'\n    },\n    6: {\n      name: 'Июнь',\n      short: 'Июнь'\n    },\n    7: {\n      name: 'Июль',\n      short: 'Июль'\n    },\n    8: {\n      name: 'Август',\n      short: 'Авг'\n    },\n    9: {\n      name: 'Сентябрь',\n      short: 'Сент'\n    },\n    10: {\n      name: 'Октябрь',\n      short: 'Окт'\n    },\n    11: {\n      name: 'Ноябрь',\n      short: 'Ноя'\n    },\n    12: {\n      name: 'Декабрь',\n      short: 'Дек'\n    }\n  };\n  return exports = {\n    daysOfWeek: daysOfWeekList,\n    month: monthObj,\n    getDaysOfWeekShorts: function() {\n      var i, result;\n      i = 0;\n      result = [];\n      while (i < daysOfWeekList.length) {\n        result.push(daysOfWeekList[i].short);\n        i++;\n      }\n      return result;\n    },\n    getMonthName: function(number) {\n      return monthObj[number].name;\n    },\n    makeDateModel: function(datetime) {\n      var date, day, year;\n      date = new Date(datetime);\n      day = date.getUTCDate();\n      monthObj = date.getMonth() + 1;\n      year = date.getFullYear();\n      return {\n        day: day,\n        month: monthObj,\n        year: year\n      };\n    },\n    sourceCheckers: {\n      month: {\n        isMonthExist: function(yearNum, monthNum) {\n          if (!yearNum || !monthNum) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          yearNum = +yearNum;\n          monthNum = +monthNum;\n          if (!bDataFactory.data.years[yearNum]) {\n            return false;\n          }\n          return !!bDataFactory.data.years[yearNum][monthNum];\n        },\n        isPrevMonthExist: function(yearNum, curMonthNum) {\n          var isFirstMonth, isFirstYear, lastMonthOfPrevYearNum, prevMonthNum, prevYearNum;\n          if (!yearNum || !curMonthNum) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          yearNum = +yearNum;\n          curMonthNum = +curMonthNum;\n          if (!exports.sourceCheckers.month.isMonthExist(yearNum, curMonthNum)) {\n            return false;\n          }\n          isFirstMonth = exports.sourceCheckers.month.isFirstMonth(yearNum, curMonthNum);\n          if (!isFirstMonth) {\n            prevMonthNum = curMonthNum - 1;\n            return exports.sourceCheckers.month.isMonthExist(yearNum, prevMonthNum);\n          } else {\n            isFirstYear = exports.sourceCheckers.year.isFirstYear(yearNum);\n            if (!isFirstYear) {\n              prevYearNum = yearNum - 1;\n              lastMonthOfPrevYearNum = exports.sourceCheckers.month.getLastMonth(prevYearNum);\n              return exports.sourceCheckers.month.isMonthExist(prevYearNum, lastMonthOfPrevYearNum);\n            } else {\n              return false;\n            }\n          }\n        },\n        getPrevMonthObj: function(yearNum, curMonthNum) {\n          var isFirstMonth, isFirstYear, lastMonthOfPrevYearNum, prevMonthNum, prevYearNum;\n          if (!yearNum || !curMonthNum) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          yearNum = +yearNum;\n          curMonthNum = +curMonthNum;\n          isFirstMonth = exports.sourceCheckers.month.isFirstMonth(yearNum, curMonthNum);\n          if (!isFirstMonth) {\n            prevMonthNum = curMonthNum - 1;\n            if (exports.sourceCheckers.month.isMonthExist(yearNum, prevMonthNum)) {\n              return {\n                year: yearNum,\n                month: prevMonthNum\n              };\n            } else {\n              return null;\n            }\n          } else {\n            isFirstYear = exports.sourceCheckers.year.isFirstYear(yearNum);\n            if (!isFirstYear) {\n              prevYearNum = yearNum - 1;\n              lastMonthOfPrevYearNum = exports.sourceCheckers.month.getLastMonth(prevYearNum);\n              if (exports.sourceCheckers.month.isMonthExist(prevYearNum, lastMonthOfPrevYearNum)) {\n                return {\n                  year: prevYearNum,\n                  month: lastMonthOfPrevYearNum\n                };\n              } else {\n                return null;\n              }\n            } else {\n              return null;\n            }\n          }\n        },\n        isNextMonthExist: function(yearNum, curMonthNum) {\n          var firstMonthOfNextYearNum, isLastMonth, isLastYear, nextMonthNum, nextYearNum;\n          if (!yearNum || !curMonthNum) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          yearNum = +yearNum;\n          curMonthNum = +curMonthNum;\n          if (!exports.sourceCheckers.month.isMonthExist(yearNum, curMonthNum)) {\n            return false;\n          }\n          isLastMonth = exports.sourceCheckers.month.isLastMonth(yearNum, curMonthNum);\n          if (!isLastMonth) {\n            nextMonthNum = curMonthNum + 1;\n            return exports.sourceCheckers.month.isMonthExist(yearNum, nextMonthNum);\n          } else {\n            isLastYear = exports.sourceCheckers.year.isLastYear(yearNum);\n            if (!isLastYear) {\n              nextYearNum = yearNum + 1;\n              firstMonthOfNextYearNum = exports.sourceCheckers.month.getFirstMonth(nextYearNum);\n              return exports.sourceCheckers.month.isMonthExist(nextYearNum, firstMonthOfNextYearNum);\n            } else {\n              return false;\n            }\n          }\n        },\n        getNextMonthObj: function(yearNum, curMonthNum) {\n          var firstMonthOfNextYearNum, isLastMonth, isLastYear, nextMonthNum, nextYearNum;\n          if (!yearNum || !curMonthNum) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          yearNum = +yearNum;\n          curMonthNum = +curMonthNum;\n          isLastMonth = exports.sourceCheckers.month.isLastMonth(yearNum, curMonthNum);\n          if (!isLastMonth) {\n            nextMonthNum = curMonthNum + 1;\n            if (exports.sourceCheckers.month.isMonthExist(yearNum, nextMonthNum)) {\n              return {\n                year: yearNum,\n                month: nextMonthNum\n              };\n            } else {\n              return null;\n            }\n          } else {\n            isLastYear = exports.sourceCheckers.year.isLastYear(yearNum);\n            if (!isLastYear) {\n              nextYearNum = yearNum + 1;\n              firstMonthOfNextYearNum = exports.sourceCheckers.month.getFirstMonth(nextYearNum);\n              if (exports.sourceCheckers.month.isMonthExist(nextYearNum, firstMonthOfNextYearNum)) {\n                return {\n                  year: nextYearNum,\n                  month: firstMonthOfNextYearNum\n                };\n              } else {\n                return null;\n              }\n            } else {\n              return null;\n            }\n          }\n        },\n        getMonth: function(yearNum, monthNum) {\n          if (!yearNum || !monthNum) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          return bDataFactory.data.years[yearNum][monthNum];\n        },\n        isFirstMonth: function(yearNum, monthNum) {\n          yearNum = +yearNum;\n          monthNum = +monthNum;\n          return monthNum === +Object.keys(bDataFactory.data.years[yearNum])[0];\n        },\n        getFirstMonth: function(yearNum) {\n          yearNum = +yearNum;\n          return +Object.keys(bDataFactory.data.years[yearNum])[0];\n        },\n        isLastMonth: function(yearNum, monthNum) {\n          yearNum = +yearNum;\n          monthNum = +monthNum;\n          return monthNum === +Object.keys(bDataFactory.data.years[yearNum])[Object.keys(bDataFactory.data.years[yearNum]).length - 1];\n        },\n        getLastMonth: function(yearNum) {\n          yearNum = +yearNum;\n          return +Object.keys(bDataFactory.data.years[yearNum])[Object.keys(bDataFactory.data.years[yearNum]).length - 1];\n        },\n        getNextAvailableMonth: function(isForward, yearNum, monthNum) {\n          var isFirstMonth, isLastMonth, nextMonthNum, nextYearNum, result;\n          yearNum = +yearNum;\n          monthNum = +monthNum;\n          isFirstMonth = exports.sourceCheckers.month.isFirstMonth(yearNum, monthNum);\n          isLastMonth = exports.sourceCheckers.month.isLastMonth(yearNum, monthNum);\n          nextYearNum = yearNum;\n          nextMonthNum = monthNum;\n          if (isForward) {\n            if (!isLastMonth) {\n              nextMonthNum = monthNum + 1;\n            } else {\n              nextYearNum = yearNum + 1;\n              if (exports.sourceCheckers.year.isYearExist(nextYearNum)) {\n                nextMonthNum = exports.sourceCheckers.month.getFirstMonth(nextYearNum);\n              } else {\n                console.error(MESSAGES.errorOnChangeMonthOrYear);\n                return false;\n              }\n            }\n          } else if (!isForward) {\n            if (!isFirstMonth) {\n              nextMonthNum = monthNum - 1;\n            } else {\n              nextYearNum = yearNum - 1;\n              if (exports.sourceCheckers.year.isYearExist(nextYearNum)) {\n                nextMonthNum = exports.sourceCheckers.month.getLastMonth(nextYearNum);\n              } else {\n                console.error(MESSAGES.errorOnChangeMonthOrYear);\n                return false;\n              }\n            }\n          }\n          return result = {\n            year: nextYearNum,\n            month: nextMonthNum\n          };\n        }\n      },\n      year: {\n        isYearExist: function(yearNum) {\n          if (!yearNum) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          yearNum = +yearNum;\n          return !!bDataFactory.data.years[yearNum];\n        },\n        getYear: function(yearNum) {\n          if (!yearNum) {\n            return console.error(MESSAGES.invalidParams);\n          }\n          return bDataFactory.data.years[yearNum];\n        },\n        isFirstYear: function(yearNum) {\n          yearNum = +yearNum;\n          return yearNum === +Object.keys(bDataFactory.data.years)[0];\n        },\n        getFirstYear: function() {\n          return +Object.keys(bDataFactory.data.years)[0];\n        },\n        isLastYear: function(yearNum) {\n          yearNum = +yearNum;\n          return yearNum === +Object.keys(bDataFactory.data.years)[Object.keys(bDataFactory.data.years).length - 1];\n        },\n        getLastYear: function() {\n          return +Object.keys(bDataFactory.data.years)[Object.keys(bDataFactory.data.years).length - 1];\n        },\n        getNextAvailableYear: function(isForward, yearNum, monthNum) {\n          var isFirstYear, isLastYear, nextMonthNum, nextYearNum, result;\n          yearNum = +yearNum;\n          monthNum = +monthNum;\n          isFirstYear = exports.sourceCheckers.year.isFirstYear(yearNum);\n          isLastYear = exports.sourceCheckers.year.isLastYear(yearNum);\n          nextYearNum = yearNum;\n          nextMonthNum = monthNum;\n          if (isForward) {\n            if (!isLastYear) {\n              nextYearNum = yearNum + 1;\n              if (exports.sourceCheckers.month.isMonthExist(nextYearNum, monthNum)) {\n                nextMonthNum = monthNum;\n              } else {\n                nextMonthNum = exports.sourceCheckers.month.getFirstMonth(nextYearNum);\n              }\n            } else {\n              return false;\n            }\n          } else if (!isForward) {\n            if (!isFirstYear) {\n              nextYearNum = yearNum - 1;\n              if (exports.sourceCheckers.month.isMonthExist(nextYearNum, monthNum)) {\n                nextMonthNum = monthNum;\n              } else {\n                nextMonthNum = exports.sourceCheckers.month.getFirstMonth(nextYearNum);\n              }\n            } else {\n              return false;\n            }\n          }\n          return result = {\n            year: nextYearNum,\n            month: nextMonthNum\n          };\n        }\n      }\n    }\n  };\n}]);\n\nangular.module(\"bdate.templates\", []).run([\"$templateCache\", function($templateCache) {$templateCache.put(\"default.html\",\"<div id={{bRootId}} class=b_datepicker_root><input type=text id={{bInputId}} ng-model=date.viewed readonly=readonly class=b_input><button type=button ng-click=togglePopup() class=b_datepicker_button>H</button><bdate-popup id={{bPopupId}} popup-state=popup.state date-model=date.model></bdate-popup></div>\");\n$templateCache.put(\"popup.html\",\"<div ng-show=popupState.isOpen class=b_popup><div class=b_popup_controls><div class=b_btn_prev_container><button type=button ng-click=data.goNextYear(false) ng-disabled=\\\"!bDateUtils.sourceCheckers.year.isYearExist(data.viewedDate.year.number - 1)\\\" class=\\\"b_popup_btn b_btn_prev\\\"><<</button><button type=button ng-click=data.goNextMonth(false) ng-disabled=\\\"!bDateUtils.sourceCheckers.month.isPrevMonthExist(data.viewedDate.year.number, data.viewedDate.month.number)\\\" class=\\\"b_popup_btn b_btn_prev\\\"><</button></div><div ng-bind=data.viewedDate.month.name class=b_popup_month></div>&nbsp;<div ng-bind=data.viewedDate.year.number class=b_popup_year></div><div class=b_btn_next_container><button type=button ng-click=data.goNextMonth(true) ng-disabled=\\\"!bDateUtils.sourceCheckers.month.isNextMonthExist(data.viewedDate.year.number, data.viewedDate.month.number)\\\" class=\\\"b_popup_btn b_btn_next\\\">></button><button type=button ng-click=data.goNextYear(true) ng-disabled=\\\"!bDateUtils.sourceCheckers.year.isYearExist(data.viewedDate.year.number + 1)\\\" class=\\\"b_popup_btn b_btn_next\\\">>></button></div></div><table class=b_popup_days><tr><td ng-repeat=\\\"dayOfWeek in ::data.daysOfWeek.getShorts()\\\" class=b_popup_day_of_week><span ng-bind=::dayOfWeek></span></td></tr></table><table class=b_popup_weeks><tr class=b_popup_week><td ng-repeat=\\\"date in data.viewedDate.days track by $index\\\" class=b_popup_day><button type=button ng-bind=date.day ng-click=popup.selectDate(date) ng-class=\\\"{b_popup_cur_month_day: !date.isOtherMonth}\\\" class=b_popup_day_btn></button></td></tr></table><div class=b_popup_today>Сегодня<button type=button ng-bind=\\\"data.today.date | date:data.format\\\" ng-click=popup.selectDate(bDateUtils.makeDateModel(data.today.date)) class=b_popup_today_btn></button></div></div>\");}]);"],"sourceRoot":"/source/"}